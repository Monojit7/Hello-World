/**********************************************************************
 *  Project       Harman Car Multimedia System
 *  (c) copyright 2014
 *  Company       Harman/Becker Automotive Systems GmbH
 *                All rights reserved
 **********************************************************************/

/*
 * Generated by DSI Generator version 2.0
 * Date: 21.11.2014
 */

#include "DMMTunerStation.h"
#include <string.h>
#include <malloc.h>

void DMMTunerStation_Metadata_Copy( DMMTunerStation_Metadata* lhs, const DMMTunerStation_Metadata* rhs )
{
   if ((lhs == 0) || (rhs == 0))
      return;
   lhs->type = rhs->type ;
   if (rhs->str != 0)
   {
      lhs->str = strdup(rhs->str);
   }
}

void DMMTunerStation_Metadatas_Copy( DMMTunerStation_Metadatas* lhs, const DMMTunerStation_Metadatas* rhs )
{
   int vecsize = 0;
   if ((lhs == 0) || (rhs == 0))
      return;
   vecsize = DSIVectorSize( *rhs ) ;
   *lhs = 0 ;
   if( vecsize )
   {
      int idx ;
      DSIVectorAlloc( *lhs, DSIVectorSize( *rhs ) );

      for( idx=0; idx<vecsize; idx++ )
      {
         DMMTunerStation_Metadata_Copy( &(*lhs)->data[idx], &(*rhs)->data[idx] );
      }
   }
}

void DMMTunerStation_Station_Copy( DMMTunerStation_Station* lhs, const DMMTunerStation_Station* rhs )
{
   if ((lhs == 0) || (rhs == 0))
      return;
   DMMTunerTypes_StationSelector_Copy( &lhs->sel, &rhs->sel );
   lhs->stationType = rhs->stationType ;
   DMMTunerTypes_CHBStrings_Copy( &lhs->name, &rhs->name );
   DMMTunerStation_Metadatas_Copy( &lhs->meta, &rhs->meta );
   DMMTunerTypes_UInt32s_Copy( &lhs->genre, &rhs->genre );
   lhs->flags = rhs->flags ;
   DMMTunerTypes_UInt32s_Copy( &lhs->quality, &rhs->quality );
}

void DMMTunerStation_Stations_Copy( DMMTunerStation_Stations* lhs, const DMMTunerStation_Stations* rhs )
{
   int vecsize = 0;
   if ((lhs == 0) || (rhs == 0))
      return;
   vecsize = DSIVectorSize( *rhs ) ;
   *lhs = 0 ;
   if( vecsize )
   {
      int idx ;
      DSIVectorAlloc( *lhs, DSIVectorSize( *rhs ) );

      for( idx=0; idx<vecsize; idx++ )
      {
         DMMTunerStation_Station_Copy( &(*lhs)->data[idx], &(*rhs)->data[idx] );
      }
   }
}

void DMMTunerStation_StationList_Copy( DMMTunerStation_StationList* lhs, const DMMTunerStation_StationList* rhs )
{
   if ((lhs == 0) || (rhs == 0))
      return;
   lhs->deviceType = rhs->deviceType ;
   lhs->stationType = rhs->stationType ;
   DMMTunerStation_Stations_Copy( &lhs->stations, &rhs->stations );
}


void DMMTunerStation_Metadata_Free( DMMTunerStation_Metadata *p )
{
   if (p == 0)
      return;
   DSIStringFree( p->str );
   memset( p, 0, sizeof(*p) );
}

void DSIReadDMMTunerStation_Metadata( DSIStream *stream, DMMTunerStation_Metadata *p )
{
   if ((stream == 0) || (p == 0))
      return;
   DSIRead8( stream, &(p)->type ) ;
   DSIReadString( stream, &(p)->str ) ;
}

void DSIWriteDMMTunerStation_Metadata( DSIStream *stream, const DMMTunerStation_Metadata *p )
{
   if ((stream == 0) || (p == 0))
      return;
   DSIWrite8( stream, &(p)->type ) ;
   DSIWriteString( stream, &(p)->str ) ;
}

void DMMTunerStation_Metadatas_Free( DMMTunerStation_Metadatas *p )
{
if (p == 0)
   return;
   {
      int idx = DSIVectorSize( (*p) ) ;
      while( --idx >= 0 )
      {
         DMMTunerStation_Metadata_Free( &(*p)->data[idx] );
      }
   }
   DSIVectorFree( (*p) );
}

void DSIReadDMMTunerStation_Metadatas( DSIStream *stream, DMMTunerStation_Metadatas *p )
{
   if( p && stream)
   {
      int size = 0 ;
      DMMTunerStation_Metadatas_Free( p );

      DSIRead32( stream, &size );
      if( 0 != size )
      {
         int idx = 0 ;
         DMMTunerStation_Metadatas vec = 0 ; 
         DSIVectorAlloc( vec, size );//lint !e449
         if (vec)
         { 
            memset( vec->data, 0, sizeof(vec->data[0]) * size );
            while( idx < vec->size )
            {
               DSIReadDMMTunerStation_Metadata( stream, &vec->data[idx] ) ;
               idx++;
            }
         }
         *p = vec ;
      }
   }
}

void DSIWriteDMMTunerStation_Metadatas( DSIStream *stream, const DMMTunerStation_Metadatas *p )
{
   if (!stream)
      return;
   if( !p || !(*p) || !(*p)->size )
   {
      static const int size0 = 0 ;
      DSIWrite32( stream, &size0 );
   }
   else
   {
      int idx = 0 ;
      const DMMTunerStation_Metadatas vec = *p ;
      DSIWrite32( stream, &vec->size );
      while( idx < vec->size )
      {
         DSIWriteDMMTunerStation_Metadata( stream, &vec->data[idx] ) ;
         idx++;
      }
   }
}


void DMMTunerStation_Station_Free( DMMTunerStation_Station *p )
{
   if (p == 0)
      return;
   DMMTunerTypes_StationSelector_Free( &p->sel );
   DMMTunerTypes_CHBStrings_Free( &p->name );
   DMMTunerStation_Metadatas_Free( &p->meta );
   DMMTunerTypes_UInt32s_Free( &p->genre );
   DMMTunerTypes_UInt32s_Free( &p->quality );
   memset( p, 0, sizeof(*p) );
}

void DSIReadDMMTunerStation_Station( DSIStream *stream, DMMTunerStation_Station *p )
{
   if ((stream == 0) || (p == 0))
      return;
   DSIReadDMMTunerTypes_StationSelector( stream, &(p)->sel ) ;
   DSIRead32( stream, &(p)->stationType ) ;
   DSIReadDMMTunerTypes_CHBStrings( stream, &(p)->name ) ;
   DSIReadDMMTunerStation_Metadatas( stream, &(p)->meta ) ;
   DSIReadDMMTunerTypes_UInt32s( stream, &(p)->genre ) ;
   DSIRead32( stream, &(p)->flags ) ;
   DSIReadDMMTunerTypes_UInt32s( stream, &(p)->quality ) ;
}

void DSIWriteDMMTunerStation_Station( DSIStream *stream, const DMMTunerStation_Station *p )
{
   if ((stream == 0) || (p == 0))
      return;
   DSIWriteDMMTunerTypes_StationSelector( stream, &(p)->sel ) ;
   DSIWrite32( stream, &(p)->stationType ) ;
   DSIWriteDMMTunerTypes_CHBStrings( stream, &(p)->name ) ;
   DSIWriteDMMTunerStation_Metadatas( stream, &(p)->meta ) ;
   DSIWriteDMMTunerTypes_UInt32s( stream, &(p)->genre ) ;
   DSIWrite32( stream, &(p)->flags ) ;
   DSIWriteDMMTunerTypes_UInt32s( stream, &(p)->quality ) ;
}

void DMMTunerStation_Stations_Free( DMMTunerStation_Stations *p )
{
if (p == 0)
   return;
   {
      int idx = DSIVectorSize( (*p) ) ;
      while( --idx >= 0 )
      {
         DMMTunerStation_Station_Free( &(*p)->data[idx] );
      }
   }
   DSIVectorFree( (*p) );
}

void DSIReadDMMTunerStation_Stations( DSIStream *stream, DMMTunerStation_Stations *p )
{
   if( p && stream)
   {
      int size = 0 ;
      DMMTunerStation_Stations_Free( p );

      DSIRead32( stream, &size );
      if( 0 != size )
      {
         int idx = 0 ;
         DMMTunerStation_Stations vec = 0 ; 
         DSIVectorAlloc( vec, size );//lint !e449
         if (vec)
         { 
            memset( vec->data, 0, sizeof(vec->data[0]) * size );
            while( idx < vec->size )
            {
               DSIReadDMMTunerStation_Station( stream, &vec->data[idx] ) ;
               idx++;
            }
         }
         *p = vec ;
      }
   }
}

void DSIWriteDMMTunerStation_Stations( DSIStream *stream, const DMMTunerStation_Stations *p )
{
   if (!stream)
      return;
   if( !p || !(*p) || !(*p)->size )
   {
      static const int size0 = 0 ;
      DSIWrite32( stream, &size0 );
   }
   else
   {
      int idx = 0 ;
      const DMMTunerStation_Stations vec = *p ;
      DSIWrite32( stream, &vec->size );
      while( idx < vec->size )
      {
         DSIWriteDMMTunerStation_Station( stream, &vec->data[idx] ) ;
         idx++;
      }
   }
}



void DSIReadDMMTunerStation_SeekData( DSIStream *stream, DMMTunerStation_SeekData *p )
{
   if ((stream == 0) || (p == 0))
      return;
   DSIRead32( stream, &(p)->mode ) ;
   DSIRead32( stream, &(p)->frequency ) ;
}

void DSIWriteDMMTunerStation_SeekData( DSIStream *stream, const DMMTunerStation_SeekData *p )
{
   if ((stream == 0) || (p == 0))
      return;
   DSIWrite32( stream, &(p)->mode ) ;
   DSIWrite32( stream, &(p)->frequency ) ;
}

void DMMTunerStation_StationList_Free( DMMTunerStation_StationList *p )
{
   if (p == 0)
      return;
   DMMTunerStation_Stations_Free( &p->stations );
   memset( p, 0, sizeof(*p) );
}

void DSIReadDMMTunerStation_StationList( DSIStream *stream, DMMTunerStation_StationList *p )
{
   if ((stream == 0) || (p == 0))
      return;
   DSIRead32( stream, &(p)->deviceType ) ;
   DSIRead32( stream, &(p)->stationType ) ;
   DSIReadDMMTunerStation_Stations( stream, &(p)->stations ) ;
}

void DSIWriteDMMTunerStation_StationList( DSIStream *stream, const DMMTunerStation_StationList *p )
{
   if ((stream == 0) || (p == 0))
      return;
   DSIWrite32( stream, &(p)->deviceType ) ;
   DSIWrite32( stream, &(p)->stationType ) ;
   DSIWriteDMMTunerStation_Stations( stream, &(p)->stations ) ;
}





void DMMTunerStation_RequestStartTuneArgList_Free( DMMTunerStation_RequestStartTuneArgList *p )
{
   if (p == 0)
      return;
   DMMTunerTypes_StationSelector_Free( &p->station );
   memset( p, 0, sizeof(*p) );
}


void DMMTunerStation_RequestMakePersistentArgList_Free( DMMTunerStation_RequestMakePersistentArgList *p )
{
   if (p == 0)
      return;
   DMMTunerTypes_StationSelector_Free( &p->station );
   memset( p, 0, sizeof(*p) );
}


void DMMTunerStation_InformationCurrentStationArgList_Free( DMMTunerStation_InformationCurrentStationArgList *p )
{
   if (p == 0)
      return;
   DMMTunerStation_Station_Free( &p->current );
   memset( p, 0, sizeof(*p) );
}


void DMMTunerStation_InformationStationListArgList_Free( DMMTunerStation_InformationStationListArgList *p )
{
   if (p == 0)
      return;
   DMMTunerStation_StationList_Free( &p->list );
   memset( p, 0, sizeof(*p) );
}
