/**********************************************************************
 *  Project       Harman Car Multimedia System
 *  (c) copyright 2015
 *  Company       Harman/Becker Automotive Systems GmbH
 *                All rights reserved
 **********************************************************************/

/*
 * Generated by DSI Generator version 2.0
 * Date: 20.5.2015
 */


struct _DMMAmFmTunerControlProxy ;
#define TDSIClient struct _DMMAmFmTunerControlProxy

/*
 * Remove the const from the attributes for this module.
 */
#define DSICONST


#include "DMMAmFmTunerControlProxy.h"

static const char* SERVER_NAME = "DMMAmFmTunerControl" ;
static const int SERVER_MAJOR_VERSION = 6 ;
static const int SERVER_MINOR_VERSION = 5 ;


static void DMMAmFmTunerControlReadErrorEnumerator( DMMAmFmTunerControlProxy* proxy, DSIStream* stream )
{
   (void)proxy;
}


static void ProcessResponse( DMMAmFmTunerControlProxy* proxy, DSIStream* stream, const EventInfo* event )
{
    if ((event == 0) || (proxy == 0))
      return;
   if( event->responseType == RESULT_INVALID )
   {
      DMMAmFmTunerControlReadErrorEnumerator( proxy, stream );

      if( proxy->fnResponseInvalid )
      {
         proxy->fnResponseInvalid( proxy, (DMMAmFmTunerControl_UpdateIdEnum)event->requestID );
      }
   }
   else if( event->responseType == RESULT_REQUEST_ERROR
           || event->responseType == RESULT_REQUEST_BUSY
           || event->responseType == RESULT_NOP )   // FIXME remove when MoCCA is fixed
   {
      DMMAmFmTunerControlReadErrorEnumerator( proxy, stream );

      switch( event->requestID )
      {
      case DMMAmFmTunerControl_UPD_ID_requestSetAfSwitch:
         if( proxy->fnRequestSetAfSwitchFailed )
         {
            proxy->fnRequestSetAfSwitchFailed( proxy, (DSIResultType)event->responseType );
         }
         break;

      case DMMAmFmTunerControl_UPD_ID_requestSetMultipleStationsSwitch:
         if( proxy->fnRequestSetMultipleStationsSwitchFailed )
         {
            proxy->fnRequestSetMultipleStationsSwitchFailed( proxy, (DSIResultType)event->responseType );
         }
         break;

      case DMMAmFmTunerControl_UPD_ID_requestSetRegMode:
         if( proxy->fnRequestSetRegModeFailed )
         {
            proxy->fnRequestSetRegModeFailed( proxy, (DSIResultType)event->responseType );
         }
         break;

      case DMMAmFmTunerControl_UPD_ID_requestSetStereoMode:
         if( proxy->fnRequestSetStereoModeFailed )
         {
            proxy->fnRequestSetStereoModeFailed( proxy, (DSIResultType)event->responseType );
         }
         break;

      case DMMAmFmTunerControl_UPD_ID_requestSetHdMode:
         if( proxy->fnRequestSetHdModeFailed )
         {
            proxy->fnRequestSetHdModeFailed( proxy, (DSIResultType)event->responseType );
         }
         break;

      case DMMAmFmTunerControl_UPD_ID_requestSetDiagSwitch:
         if( proxy->fnRequestSetDiagSwitchFailed )
         {
            proxy->fnRequestSetDiagSwitchFailed( proxy, (DSIResultType)event->responseType );
         }
         break;

      case DMMAmFmTunerControl_UPD_ID_requestSetTestMode:
         if( proxy->fnRequestSetTestModeFailed )
         {
            proxy->fnRequestSetTestModeFailed( proxy, (DSIResultType)event->responseType );
         }
         break;

      case DMMAmFmTunerControl_UPD_ID_requestSendPmBusCommand:
         if( proxy->fnRequestSendPmBusCommandFailed )
         {
            proxy->fnRequestSendPmBusCommandFailed( proxy, (DSIResultType)event->responseType );
         }
         break;

      case DMMAmFmTunerControl_UPD_ID_requestSetSeekSensitivity:
         if( proxy->fnRequestSetSeekSensitivityFailed )
         {
            proxy->fnRequestSetSeekSensitivityFailed( proxy, (DSIResultType)event->responseType );
         }
         break;

      case DMMAmFmTunerControl_UPD_ID_requestGetSeekSensitivity:
         if( proxy->fnRequestGetSeekSensitivityFailed )
         {
            proxy->fnRequestGetSeekSensitivityFailed( proxy, (DSIResultType)event->responseType );
         }
         break;

      case DMMAmFmTunerControl_UPD_ID_requestSetHdBlending:
         if( proxy->fnRequestSetHdBlendingFailed )
         {
            proxy->fnRequestSetHdBlendingFailed( proxy, (DSIResultType)event->responseType );
         }
         break;

      case DMMAmFmTunerControl_UPD_ID_requestGetHdBlending:
         if( proxy->fnRequestGetHdBlendingFailed )
         {
            proxy->fnRequestGetHdBlendingFailed( proxy, (DSIResultType)event->responseType );
         }
         break;

      case DMMAmFmTunerControl_UPD_ID_requestSetHdCalibration:
         if( proxy->fnRequestSetHdCalibrationFailed )
         {
            proxy->fnRequestSetHdCalibrationFailed( proxy, (DSIResultType)event->responseType );
         }
         break;

      case DMMAmFmTunerControl_UPD_ID_requestGetHdCalibration:
         if( proxy->fnRequestGetHdCalibrationFailed )
         {
            proxy->fnRequestGetHdCalibrationFailed( proxy, (DSIResultType)event->responseType );
         }
         break;

      case DMMAmFmTunerControl_UPD_ID_requestSetRegionCode:
         if( proxy->fnRequestSetRegionCodeFailed )
         {
            proxy->fnRequestSetRegionCodeFailed( proxy, (DSIResultType)event->responseType );
         }
         break;

      case DMMAmFmTunerControl_UPD_ID_requestGetHdBer:
         if( proxy->fnRequestGetHdBerFailed )
         {
            proxy->fnRequestGetHdBerFailed( proxy, (DSIResultType)event->responseType );
         }
         break;

      case DMMAmFmTunerControl_UPD_ID_requestControlHdBer:
         if( proxy->fnRequestControlHdBerFailed )
         {
            proxy->fnRequestControlHdBerFailed( proxy, (DSIResultType)event->responseType );
         }
         break;

      case DMMAmFmTunerControl_UPD_ID_requestSetTunerParameter:
         if( proxy->fnRequestSetTunerParameterFailed )
         {
            proxy->fnRequestSetTunerParameterFailed( proxy, (DSIResultType)event->responseType );
         }
         break;

      case DMMAmFmTunerControl_UPD_ID_requestGetTunerParameter:
         if( proxy->fnRequestGetTunerParameterFailed )
         {
            proxy->fnRequestGetTunerParameterFailed( proxy, (DSIResultType)event->responseType );
         }
         break;

      case DMMAmFmTunerControl_UPD_ID_requestSetTunerTiming:
         if( proxy->fnRequestSetTunerTimingFailed )
         {
            proxy->fnRequestSetTunerTimingFailed( proxy, (DSIResultType)event->responseType );
         }
         break;

      case DMMAmFmTunerControl_UPD_ID_requestGetTunerTiming:
         if( proxy->fnRequestGetTunerTimingFailed )
         {
            proxy->fnRequestGetTunerTimingFailed( proxy, (DSIResultType)event->responseType );
         }
         break;

      case DMMAmFmTunerControl_UPD_ID_requestDeletePersistentData:
         if( proxy->fnRequestDeletePersistentDataFailed )
         {
            proxy->fnRequestDeletePersistentDataFailed( proxy, (DSIResultType)event->responseType );
         }
         break;

      case DMMAmFmTunerControl_UPD_ID_requestSetWavebandGrid:
         if( proxy->fnRequestSetWavebandGridFailed )
         {
            proxy->fnRequestSetWavebandGridFailed( proxy, (DSIResultType)event->responseType );
         }
         break;

      case DMMAmFmTunerControl_UPD_ID_requestSetHdBallGameMode:
         if( proxy->fnRequestSetHdBallGameModeFailed )
         {
            proxy->fnRequestSetHdBallGameModeFailed( proxy, (DSIResultType)event->responseType );
         }
         break;

      case DMMAmFmTunerControl_UPD_ID_requestAssign:
         if( proxy->fnRequestAssignFailed )
         {
            proxy->fnRequestAssignFailed( proxy, (DSIResultType)event->responseType );
         }
         break;

      case DMMAmFmTunerControl_UPD_ID_requestSetSpecialCoding:
         if( proxy->fnRequestSetSpecialCodingFailed )
         {
            proxy->fnRequestSetSpecialCodingFailed( proxy, (DSIResultType)event->responseType );
         }
         break;

      case DMMAmFmTunerControl_UPD_ID_requestStorePersistentData:
         if( proxy->fnRequestStorePersistentDataFailed )
         {
            proxy->fnRequestStorePersistentDataFailed( proxy, (DSIResultType)event->responseType );
         }
         break;

      default:
         assert( 0 ); //lint !e506 Constant value Boolean
         break;
      }
   }
   else
   {
      int bSendEvent = 0 ;
      switch( event->requestID )
      {
      case DMMAmFmTunerControl_UPD_ID_afSwitch:
         {

            // set attribute state
            DSI_SETSTATE( proxy->afSwitch, event->responseType == RESULT_DATA_OK ? DATA_OK : DATA_INVALID );

            // read the attribute data
            if( event->responseType == RESULT_DATA_OK )
            {
               DSIReadBool( stream, &proxy->afSwitch ) ;
            }
            bSendEvent = 1 ;
         }
         break;

      case DMMAmFmTunerControl_UPD_ID_multipleStationsSwitch:
         {

            // set attribute state
            DSI_SETSTATE( proxy->multipleStationsSwitch, event->responseType == RESULT_DATA_OK ? DATA_OK : DATA_INVALID );

            // read the attribute data
            if( event->responseType == RESULT_DATA_OK )
            {
               DSIReadBool( stream, &proxy->multipleStationsSwitch ) ;
            }
            bSendEvent = 1 ;
         }
         break;

      case DMMAmFmTunerControl_UPD_ID_regMode:
         {

            // set attribute state
            DSI_SETSTATE( proxy->regMode, event->responseType == RESULT_DATA_OK ? DATA_OK : DATA_INVALID );

            // read the attribute data
            if( event->responseType == RESULT_DATA_OK )
            {
               DSIRead32( stream, &proxy->regMode ) ;
            }
            bSendEvent = 1 ;
         }
         break;

      case DMMAmFmTunerControl_UPD_ID_stereoMode:
         {

            // set attribute state
            DSI_SETSTATE( proxy->stereoMode, event->responseType == RESULT_DATA_OK ? DATA_OK : DATA_INVALID );

            // read the attribute data
            if( event->responseType == RESULT_DATA_OK )
            {
               DSIRead32( stream, &proxy->stereoMode ) ;
            }
            bSendEvent = 1 ;
         }
         break;

      case DMMAmFmTunerControl_UPD_ID_stereoState:
         {

            // set attribute state
            DSI_SETSTATE( proxy->stereoState, event->responseType == RESULT_DATA_OK ? DATA_OK : DATA_INVALID );

            // read the attribute data
            if( event->responseType == RESULT_DATA_OK )
            {
               DSIReadBool( stream, &proxy->stereoState ) ;
            }
            bSendEvent = 1 ;
         }
         break;

      case DMMAmFmTunerControl_UPD_ID_hdMode:
         {

            // set attribute state
            DSI_SETSTATE( proxy->hdMode, event->responseType == RESULT_DATA_OK ? DATA_OK : DATA_INVALID );

            // read the attribute data
            if( event->responseType == RESULT_DATA_OK )
            {
               DSIRead32( stream, &proxy->hdMode ) ;
            }
            bSendEvent = 1 ;
         }
         break;

      case DMMAmFmTunerControl_UPD_ID_deviceState:
         {

            // set attribute state
            DSI_SETSTATE( proxy->deviceState, event->responseType == RESULT_DATA_OK ? DATA_OK : DATA_INVALID );

            // read the attribute data
            if( event->responseType == RESULT_DATA_OK )
            {
               DSIRead32( stream, &proxy->deviceState ) ;
            }
            bSendEvent = 1 ;
         }
         break;

      case DMMAmFmTunerControl_UPD_ID_diagSwitch:
         {

            // set attribute state
            DSI_SETSTATE( proxy->diagSwitch, event->responseType == RESULT_DATA_OK ? DATA_OK : DATA_INVALID );

            // read the attribute data
            if( event->responseType == RESULT_DATA_OK )
            {
               DSIReadBool( stream, &proxy->diagSwitch ) ;
            }
            bSendEvent = 1 ;
         }
         break;

      case DMMAmFmTunerControl_UPD_ID_wavebandGrids:
         {
            // Free previous allocated data
            DMMAmFmTunerControl_WavebandGrids_Free( &proxy->wavebandGrids );

            // set attribute state
            DSI_SETSTATE( proxy->wavebandGrids, event->responseType == RESULT_DATA_OK ? DATA_OK : DATA_INVALID );

            // read the attribute data
            if( event->responseType == RESULT_DATA_OK )
            {
               DSIReadDMMAmFmTunerControl_WavebandGrids( stream, &proxy->wavebandGrids ) ;
            }
            bSendEvent = 1 ;
         }
         break;

      case DMMAmFmTunerControl_UPD_ID_hwError:
         {

            // set attribute state
            DSI_SETSTATE( proxy->hwError, event->responseType == RESULT_DATA_OK ? DATA_OK : DATA_INVALID );

            // read the attribute data
            if( event->responseType == RESULT_DATA_OK )
            {
               DSIReadDMMAmFmTunerControl_HwError( stream, &proxy->hwError ) ;
            }
            bSendEvent = 1 ;
         }
         break;

      case DMMAmFmTunerControl_UPD_ID_versions:
         {
            // Free previous allocated data
            DMMAmFmTunerControl_Strings_Free( &proxy->versions );

            // set attribute state
            DSI_SETSTATE( proxy->versions, event->responseType == RESULT_DATA_OK ? DATA_OK : DATA_INVALID );

            // read the attribute data
            if( event->responseType == RESULT_DATA_OK )
            {
               DSIReadDMMAmFmTunerControl_Strings( stream, &proxy->versions ) ;
            }
            bSendEvent = 1 ;
         }
         break;

      case DMMAmFmTunerControl_UPD_ID_codingData:
         {

            // set attribute state
            DSI_SETSTATE( proxy->codingData, event->responseType == RESULT_DATA_OK ? DATA_OK : DATA_INVALID );

            // read the attribute data
            if( event->responseType == RESULT_DATA_OK )
            {
               DSIReadDMMAmFmTunerControl_CodingData( stream, &proxy->codingData ) ;
            }
            bSendEvent = 1 ;
         }
         break;

      case DMMAmFmTunerControl_UPD_ID_hdBallGameMode:
         {

            // set attribute state
            DSI_SETSTATE( proxy->hdBallGameMode, event->responseType == RESULT_DATA_OK ? DATA_OK : DATA_INVALID );

            // read the attribute data
            if( event->responseType == RESULT_DATA_OK )
            {
               DSIRead32( stream, &proxy->hdBallGameMode ) ;
            }
            bSendEvent = 1 ;
         }
         break;

      case DMMAmFmTunerControl_UPD_ID_tunerStateAttr:
         {

            // set attribute state
            DSI_SETSTATE( proxy->tunerStateAttr, event->responseType == RESULT_DATA_OK ? DATA_OK : DATA_INVALID );

            // read the attribute data
            if( event->responseType == RESULT_DATA_OK )
            {
               DSIReadDMMAmFmTunerControl_TunerStates( stream, &proxy->tunerStateAttr ) ;
            }
            bSendEvent = 1 ;
         }
         break;

      case DMMAmFmTunerControl_UPD_ID_arbitrationInfo:
         {

            // set attribute state
            DSI_SETSTATE( proxy->arbitrationInfo, event->responseType == RESULT_DATA_OK ? DATA_OK : DATA_INVALID );

            // read the attribute data
            if( event->responseType == RESULT_DATA_OK )
            {
               DSIReadDMMAmFmTunerControl_ArbitrationInfo( stream, &proxy->arbitrationInfo ) ;
            }
            bSendEvent = 1 ;
         }
         break;

      case DMMAmFmTunerControl_UPD_ID_rdsClockTime:
         {

            // set attribute state
            DSI_SETSTATE( proxy->rdsClockTime, event->responseType == RESULT_DATA_OK ? DATA_OK : DATA_INVALID );

            // read the attribute data
            if( event->responseType == RESULT_DATA_OK )
            {
               DSIReadDMMAmFmTunerControl_RdsClockTime( stream, &proxy->rdsClockTime ) ;
            }
            bSendEvent = 1 ;
         }
         break;

      case DMMAmFmTunerControl_UPD_ID_powerSync:
         {
            // Free previous allocated data
            DMMTunerTypes_UInt32s_Free( &proxy->powerSync );

            // set attribute state
            DSI_SETSTATE( proxy->powerSync, event->responseType == RESULT_DATA_OK ? DATA_OK : DATA_INVALID );

            // read the attribute data
            if( event->responseType == RESULT_DATA_OK )
            {
               DSIReadDMMTunerTypes_UInt32s( stream, &proxy->powerSync ) ;
            }
            bSendEvent = 1 ;
         }
         break;

      case DMMAmFmTunerControl_UPD_ID_responsePmBusCommand:
         {
            DSIBuffer resultStream = 0 ;
            DSIReadBuffer( stream, &resultStream ) ;
            if( proxy->fnResponsePmBusCommand )
            {
               proxy->fnResponsePmBusCommand( proxy, resultStream );
            }
            if( proxy->fnResponsePmBusCommandEx )
            {
               proxy->fnResponsePmBusCommandEx( proxy, DSIBufferGet( resultStream ), DSIBufferSize( resultStream ) );
            }
            DSIBufferFree( resultStream );
         }
         break;

      case DMMAmFmTunerControl_UPD_ID_responseTestData:
         {
            DMMAmFmTunerControl_TestMode testMode = 0 ;
            unsigned int index = 0 ;
            DSIBuffer data = 0 ;
            DSIRead32( stream, &testMode ) ;
            DSIRead32( stream, &index ) ;
            DSIReadBuffer( stream, &data ) ;
            if( proxy->fnResponseTestData )
            {
               proxy->fnResponseTestData( proxy, testMode, index, data );
            }
            if( proxy->fnResponseTestDataEx )
            {
               proxy->fnResponseTestDataEx( proxy, testMode, index, DSIBufferGet( data ), DSIBufferSize( data ) );
            }
            DSIBufferFree( data );
         }
         break;

      case DMMAmFmTunerControl_UPD_ID_responseSeekSensitivity:
         {
            DMMAmFmTunerControl_StopLevels stopLevels = 0 ;
            DSIReadDMMAmFmTunerControl_StopLevels( stream, &stopLevels ) ;
            if( proxy->fnResponseSeekSensitivity )
            {
               proxy->fnResponseSeekSensitivity( proxy, stopLevels );
            }
            if( proxy->fnResponseSeekSensitivityEx )
            {
               proxy->fnResponseSeekSensitivityEx( proxy, DSIVectorData( stopLevels ), DSIVectorSize( stopLevels ) );
            }
            DMMAmFmTunerControl_StopLevels_Free( &stopLevels );
         }
         break;

      case DMMAmFmTunerControl_UPD_ID_responseHdBlending:
         {
            DMMAmFmTunerControl_HdBlending hdBlending = 0 ;
            DSIRead32( stream, &hdBlending ) ;
            if( proxy->fnResponseHdBlending )
            {
               proxy->fnResponseHdBlending( proxy, hdBlending );
            }
         }
         break;

      case DMMAmFmTunerControl_UPD_ID_responseHdCalibration:
         {
            DSIBool enabled = 0 ;
            DSIReadBool( stream, &enabled ) ;
            if( proxy->fnResponseHdCalibration )
            {
               proxy->fnResponseHdCalibration( proxy, enabled );
            }
         }
         break;

      case DMMAmFmTunerControl_UPD_ID_responseHdBer:
         {
            DMMAmFmTunerControl_HdBers bers = 0 ;
            DSIReadDMMAmFmTunerControl_HdBers( stream, &bers ) ;
            if( proxy->fnResponseHdBer )
            {
               proxy->fnResponseHdBer( proxy, bers );
            }
            if( proxy->fnResponseHdBerEx )
            {
               proxy->fnResponseHdBerEx( proxy, DSIVectorData( bers ), DSIVectorSize( bers ) );
            }
            DMMAmFmTunerControl_HdBers_Free( &bers );
         }
         break;

      case DMMAmFmTunerControl_UPD_ID_informationHdStatus:
         {
            DMMAmFmTunerControl_HdStatus status ;
            memset( &status, 0, sizeof(status) )  ;
            DSIReadDMMAmFmTunerControl_HdStatus( stream, &status ) ;
            if( proxy->fnInformationHdStatus )
            {
               proxy->fnInformationHdStatus( proxy,  &status );
            }
            DMMAmFmTunerControl_HdStatus_Free( &status );
         }
         break;

      case DMMAmFmTunerControl_UPD_ID_informationHdPerformance:
         {
            DMMAmFmTunerControl_HdPerformance performance ;
            memset( &performance, 0, sizeof(performance) )  ;
            DSIReadDMMAmFmTunerControl_HdPerformance( stream, &performance ) ;
            if( proxy->fnInformationHdPerformance )
            {
               proxy->fnInformationHdPerformance( proxy,  &performance );
            }
            DMMAmFmTunerControl_HdPerformance_Free( &performance );
         }
         break;

      case DMMAmFmTunerControl_UPD_ID_informationHdCallToAction:
         {
            unsigned int frequency = 0 ;
            unsigned char serviceId = 0 ;
            unsigned int caServiceId = 0 ;
            unsigned int radioId = 0 ;
            char* message = 0 ;
            DSIRead32( stream, &frequency ) ;
            DSIRead8( stream, &serviceId ) ;
            DSIRead32( stream, &caServiceId ) ;
            DSIRead32( stream, &radioId ) ;
            DSIReadString( stream, &message ) ;
            if( proxy->fnInformationHdCallToAction )
            {
               proxy->fnInformationHdCallToAction( proxy, frequency, serviceId, caServiceId, radioId, message );
            }
            DSIStringFree( message );
         }
         break;

      case DMMAmFmTunerControl_UPD_ID_informationHdPsdChanged:
         {
            unsigned int frequency = 0 ;
            unsigned char service = 0 ;
            DSIRead32( stream, &frequency ) ;
            DSIRead8( stream, &service ) ;
            if( proxy->fnInformationHdPsdChanged )
            {
               proxy->fnInformationHdPsdChanged( proxy, frequency, service );
            }
         }
         break;

      case DMMAmFmTunerControl_UPD_ID_informationHdTagging:
         {
            DMMAmFmTunerControl_HdToken token ;
            memset( &token, 0, sizeof(token) )  ;
            DSIReadDMMAmFmTunerControl_HdToken( stream, &token ) ;
            if( proxy->fnInformationHdTagging )
            {
               proxy->fnInformationHdTagging( proxy,  &token );
            }
            DMMAmFmTunerControl_HdToken_Free( &token );
         }
         break;

      case DMMAmFmTunerControl_UPD_ID_responseTunerParameter:
         {
            unsigned int tunerParameter = 0 ;
            DSIBuffer buffer = 0 ;
            DMMTunerTypes_Feedback feedback = 0 ;
            DSIRead32( stream, &tunerParameter ) ;
            DSIReadBuffer( stream, &buffer ) ;
            DSIRead32( stream, &feedback ) ;
            if( proxy->fnResponseTunerParameter )
            {
               proxy->fnResponseTunerParameter( proxy, tunerParameter, buffer, feedback );
            }
            if( proxy->fnResponseTunerParameterEx )
            {
               proxy->fnResponseTunerParameterEx( proxy, tunerParameter, DSIBufferGet( buffer ), DSIBufferSize( buffer ), feedback );
            }
            DSIBufferFree( buffer );
         }
         break;

      case DMMAmFmTunerControl_UPD_ID_responseTunerTiming:
         {
            unsigned int tunerTiming = 0 ;
            unsigned int value = 0 ;
            DMMTunerTypes_Feedback feedback = 0 ;
            DSIRead32( stream, &tunerTiming ) ;
            DSIRead32( stream, &value ) ;
            DSIRead32( stream, &feedback ) ;
            if( proxy->fnResponseTunerTiming )
            {
               proxy->fnResponseTunerTiming( proxy, tunerTiming, value, feedback );
            }
         }
         break;

      case DMMAmFmTunerControl_UPD_ID_informationHdImage:
         {
            DMMAmFmTunerControl_HdImage image ;
            memset( &image, 0, sizeof(image) )  ;
            DSIReadDMMAmFmTunerControl_HdImage( stream, &image ) ;
            if( proxy->fnInformationHdImage )
            {
               proxy->fnInformationHdImage( proxy,  &image );
            }
            DMMAmFmTunerControl_HdImage_Free( &image );
         }
         break;

      case DMMAmFmTunerControl_UPD_ID_responseStorePersistentData:
         {
            if( proxy->fnResponseStorePersistentData )
            {
               proxy->fnResponseStorePersistentData( proxy );
            }
         }
         break;

      default:
         assert( 0 ); //lint !e506 Constant value Boolean unknown update id
         break;
      }

      if( bSendEvent && proxy->fnProcessUpdateEvent )
      {
         // notify the user about the update
         proxy->fnProcessUpdateEvent( proxy, (DMMAmFmTunerControl_UpdateIdEnum)event->requestID );
      }
   }
}

int DMMAmFmTunerControl_RequestSetAfSwitch( DMMAmFmTunerControlProxy* proxy,  DSIBool enable )
{
   int seqNr = DSICreateId();
   DSIStream stream ;
   DSIOpen( &stream );   
   DSIWriteBool( &stream, &enable ) ;
   DSIClientSendRequest( proxy, DMMAmFmTunerControl_UPD_ID_requestSetAfSwitch, seqNr, &stream );
   DSIClose( &stream );
   return seqNr ;
}



int DMMAmFmTunerControl_RequestSetMultipleStationsSwitch( DMMAmFmTunerControlProxy* proxy,  DSIBool enable )
{
   int seqNr = DSICreateId();
   DSIStream stream ;
   DSIOpen( &stream );   
   DSIWriteBool( &stream, &enable ) ;
   DSIClientSendRequest( proxy, DMMAmFmTunerControl_UPD_ID_requestSetMultipleStationsSwitch, seqNr, &stream );
   DSIClose( &stream );
   return seqNr ;
}



int DMMAmFmTunerControl_RequestSetRegMode( DMMAmFmTunerControlProxy* proxy,  DMMAmFmTunerControl_RegMode regMode )
{
   int seqNr = DSICreateId();
   DSIStream stream ;
   DSIOpen( &stream );   
   DSIWrite32( &stream, &regMode ) ;
   DSIClientSendRequest( proxy, DMMAmFmTunerControl_UPD_ID_requestSetRegMode, seqNr, &stream );
   DSIClose( &stream );
   return seqNr ;
}



int DMMAmFmTunerControl_RequestSetStereoMode( DMMAmFmTunerControlProxy* proxy,  DMMAmFmTunerControl_StereoMode stereoMode )
{
   int seqNr = DSICreateId();
   DSIStream stream ;
   DSIOpen( &stream );   
   DSIWrite32( &stream, &stereoMode ) ;
   DSIClientSendRequest( proxy, DMMAmFmTunerControl_UPD_ID_requestSetStereoMode, seqNr, &stream );
   DSIClose( &stream );
   return seqNr ;
}



int DMMAmFmTunerControl_RequestSetHdMode( DMMAmFmTunerControlProxy* proxy,  DMMAmFmTunerControl_HdMode hdMode )
{
   int seqNr = DSICreateId();
   DSIStream stream ;
   DSIOpen( &stream );   
   DSIWrite32( &stream, &hdMode ) ;
   DSIClientSendRequest( proxy, DMMAmFmTunerControl_UPD_ID_requestSetHdMode, seqNr, &stream );
   DSIClose( &stream );
   return seqNr ;
}



int DMMAmFmTunerControl_RequestSetDiagSwitch( DMMAmFmTunerControlProxy* proxy,  DSIBool enable )
{
   int seqNr = DSICreateId();
   DSIStream stream ;
   DSIOpen( &stream );   
   DSIWriteBool( &stream, &enable ) ;
   DSIClientSendRequest( proxy, DMMAmFmTunerControl_UPD_ID_requestSetDiagSwitch, seqNr, &stream );
   DSIClose( &stream );
   return seqNr ;
}



int DMMAmFmTunerControl_RequestSetTestMode( DMMAmFmTunerControlProxy* proxy,  DMMAmFmTunerControl_TestMode testMode,  unsigned int index )
{
   int seqNr = DSICreateId();
   DSIStream stream ;
   DSIOpen( &stream );   
   DSIWrite32( &stream, &testMode ) ;   
   DSIWrite32( &stream, &index ) ;
   DSIClientSendRequest( proxy, DMMAmFmTunerControl_UPD_ID_requestSetTestMode, seqNr, &stream );
   DSIClose( &stream );
   return seqNr ;
}



int DMMAmFmTunerControl_RequestSendPmBusCommand( DMMAmFmTunerControlProxy* proxy, const DSIBuffer commandStream )
{
   int seqNr = DSICreateId();
   DSIStream stream ;
   DSIOpen( &stream );   
   DSIWriteBuffer( &stream, &commandStream ) ;
   DSIClientSendRequest( proxy, DMMAmFmTunerControl_UPD_ID_requestSendPmBusCommand, seqNr, &stream );
   DSIClose( &stream );
   return seqNr ;
}

int DMMAmFmTunerControl_RequestSendPmBusCommandEx( DMMAmFmTunerControlProxy* proxy, const void* commandStream, int commandStreamSize )
{
   int seqNr = DSICreateId();
   DSIStream stream ;
   DSIOpen( &stream );
   DSIWrite32( &stream, &commandStreamSize );
   if( 0 != commandStreamSize )
   {
      DSIWrite( &stream, commandStream, commandStreamSize, 1 );
   }
   DSIClientSendRequest( proxy, DMMAmFmTunerControl_UPD_ID_requestSendPmBusCommand, seqNr, &stream );
   DSIClose( &stream );
   return seqNr ;
}



int DMMAmFmTunerControl_RequestSetSeekSensitivity( DMMAmFmTunerControlProxy* proxy, const DMMAmFmTunerControl_StopLevels stopLevels )
{
   int seqNr = DSICreateId();
   DSIStream stream ;
   DSIOpen( &stream );   
   DSIWriteDMMAmFmTunerControl_StopLevels( &stream, &stopLevels ) ;
   DSIClientSendRequest( proxy, DMMAmFmTunerControl_UPD_ID_requestSetSeekSensitivity, seqNr, &stream );
   DSIClose( &stream );
   return seqNr ;
}

int DMMAmFmTunerControl_RequestSetSeekSensitivityEx( DMMAmFmTunerControlProxy* proxy, const DMMAmFmTunerControl_StopLevel* stopLevels, int stopLevelsSize )
{
   int seqNr = DSICreateId();
   DSIStream stream ;
   DSIOpen( &stream );
   DSIWrite32( &stream, &stopLevelsSize );
   if( (0 != stopLevelsSize ) && (0 != stopLevels ))
   {
      int idx=0;
      while( idx < stopLevelsSize )
      {
         DSIWriteDMMAmFmTunerControl_StopLevel( &stream, &stopLevels[idx] ) ;
         idx++;
      }
   }
   DSIClientSendRequest( proxy, DMMAmFmTunerControl_UPD_ID_requestSetSeekSensitivity, seqNr, &stream );
   DSIClose( &stream );
   return seqNr ;
}



int DMMAmFmTunerControl_RequestGetSeekSensitivity( DMMAmFmTunerControlProxy* proxy )
{
   int seqNr = DSICreateId();
   DSIStream stream ;
   DSIOpen( &stream );
   DSIClientSendRequest( proxy, DMMAmFmTunerControl_UPD_ID_requestGetSeekSensitivity, seqNr, &stream );
   DSIClose( &stream );
   return seqNr ;
}



int DMMAmFmTunerControl_RequestSetHdBlending( DMMAmFmTunerControlProxy* proxy,  DMMAmFmTunerControl_HdBlending hdBlending )
{
   int seqNr = DSICreateId();
   DSIStream stream ;
   DSIOpen( &stream );   
   DSIWrite32( &stream, &hdBlending ) ;
   DSIClientSendRequest( proxy, DMMAmFmTunerControl_UPD_ID_requestSetHdBlending, seqNr, &stream );
   DSIClose( &stream );
   return seqNr ;
}



int DMMAmFmTunerControl_RequestGetHdBlending( DMMAmFmTunerControlProxy* proxy )
{
   int seqNr = DSICreateId();
   DSIStream stream ;
   DSIOpen( &stream );
   DSIClientSendRequest( proxy, DMMAmFmTunerControl_UPD_ID_requestGetHdBlending, seqNr, &stream );
   DSIClose( &stream );
   return seqNr ;
}



int DMMAmFmTunerControl_RequestSetHdCalibration( DMMAmFmTunerControlProxy* proxy,  DSIBool enable )
{
   int seqNr = DSICreateId();
   DSIStream stream ;
   DSIOpen( &stream );   
   DSIWriteBool( &stream, &enable ) ;
   DSIClientSendRequest( proxy, DMMAmFmTunerControl_UPD_ID_requestSetHdCalibration, seqNr, &stream );
   DSIClose( &stream );
   return seqNr ;
}



int DMMAmFmTunerControl_RequestGetHdCalibration( DMMAmFmTunerControlProxy* proxy )
{
   int seqNr = DSICreateId();
   DSIStream stream ;
   DSIOpen( &stream );
   DSIClientSendRequest( proxy, DMMAmFmTunerControl_UPD_ID_requestGetHdCalibration, seqNr, &stream );
   DSIClose( &stream );
   return seqNr ;
}



int DMMAmFmTunerControl_RequestSetRegionCode( DMMAmFmTunerControlProxy* proxy,  DMMAmFmTunerControl_RegionCode regionCode,  unsigned int flags )
{
   int seqNr = DSICreateId();
   DSIStream stream ;
   DSIOpen( &stream );   
   DSIWrite32( &stream, &regionCode ) ;   
   DSIWrite32( &stream, &flags ) ;
   DSIClientSendRequest( proxy, DMMAmFmTunerControl_UPD_ID_requestSetRegionCode, seqNr, &stream );
   DSIClose( &stream );
   return seqNr ;
}



int DMMAmFmTunerControl_RequestGetHdBer( DMMAmFmTunerControlProxy* proxy )
{
   int seqNr = DSICreateId();
   DSIStream stream ;
   DSIOpen( &stream );
   DSIClientSendRequest( proxy, DMMAmFmTunerControl_UPD_ID_requestGetHdBer, seqNr, &stream );
   DSIClose( &stream );
   return seqNr ;
}



int DMMAmFmTunerControl_RequestControlHdBer( DMMAmFmTunerControlProxy* proxy,  DMMAmFmTunerControl_HdBerMode hdBerMode )
{
   int seqNr = DSICreateId();
   DSIStream stream ;
   DSIOpen( &stream );   
   DSIWrite32( &stream, &hdBerMode ) ;
   DSIClientSendRequest( proxy, DMMAmFmTunerControl_UPD_ID_requestControlHdBer, seqNr, &stream );
   DSIClose( &stream );
   return seqNr ;
}



int DMMAmFmTunerControl_RequestSetTunerParameter( DMMAmFmTunerControlProxy* proxy,  unsigned int tunerParameter, const DSIBuffer buffer )
{
   int seqNr = DSICreateId();
   DSIStream stream ;
   DSIOpen( &stream );   
   DSIWrite32( &stream, &tunerParameter ) ;   
   DSIWriteBuffer( &stream, &buffer ) ;
   DSIClientSendRequest( proxy, DMMAmFmTunerControl_UPD_ID_requestSetTunerParameter, seqNr, &stream );
   DSIClose( &stream );
   return seqNr ;
}

int DMMAmFmTunerControl_RequestSetTunerParameterEx( DMMAmFmTunerControlProxy* proxy,  unsigned int tunerParameter, const void* buffer, int bufferSize )
{
   int seqNr = DSICreateId();
   DSIStream stream ;
   DSIOpen( &stream );
   DSIWrite32( &stream, &tunerParameter ) ;
   DSIWrite32( &stream, &bufferSize );
   if( 0 != bufferSize )
   {
      DSIWrite( &stream, buffer, bufferSize, 1 );
   }
   DSIClientSendRequest( proxy, DMMAmFmTunerControl_UPD_ID_requestSetTunerParameter, seqNr, &stream );
   DSIClose( &stream );
   return seqNr ;
}



int DMMAmFmTunerControl_RequestGetTunerParameter( DMMAmFmTunerControlProxy* proxy,  unsigned int tunerParameter )
{
   int seqNr = DSICreateId();
   DSIStream stream ;
   DSIOpen( &stream );   
   DSIWrite32( &stream, &tunerParameter ) ;
   DSIClientSendRequest( proxy, DMMAmFmTunerControl_UPD_ID_requestGetTunerParameter, seqNr, &stream );
   DSIClose( &stream );
   return seqNr ;
}



int DMMAmFmTunerControl_RequestSetTunerTiming( DMMAmFmTunerControlProxy* proxy,  unsigned int tunerTiming,  unsigned int value )
{
   int seqNr = DSICreateId();
   DSIStream stream ;
   DSIOpen( &stream );   
   DSIWrite32( &stream, &tunerTiming ) ;   
   DSIWrite32( &stream, &value ) ;
   DSIClientSendRequest( proxy, DMMAmFmTunerControl_UPD_ID_requestSetTunerTiming, seqNr, &stream );
   DSIClose( &stream );
   return seqNr ;
}



int DMMAmFmTunerControl_RequestGetTunerTiming( DMMAmFmTunerControlProxy* proxy,  unsigned int tunerTiming )
{
   int seqNr = DSICreateId();
   DSIStream stream ;
   DSIOpen( &stream );   
   DSIWrite32( &stream, &tunerTiming ) ;
   DSIClientSendRequest( proxy, DMMAmFmTunerControl_UPD_ID_requestGetTunerTiming, seqNr, &stream );
   DSIClose( &stream );
   return seqNr ;
}



int DMMAmFmTunerControl_RequestDeletePersistentData( DMMAmFmTunerControlProxy* proxy,  DMMAmFmTunerControl_PersistenceScope scope )
{
   int seqNr = DSICreateId();
   DSIStream stream ;
   DSIOpen( &stream );   
   DSIWrite32( &stream, &scope ) ;
   DSIClientSendRequest( proxy, DMMAmFmTunerControl_UPD_ID_requestDeletePersistentData, seqNr, &stream );
   DSIClose( &stream );
   return seqNr ;
}



int DMMAmFmTunerControl_RequestSetWavebandGrid( DMMAmFmTunerControlProxy* proxy,  DMMAmFmTunerControl_Waveband waveband, const DMMAmFmTunerControl_WavebandGrid* grid )
{
   int seqNr = DSICreateId();
   DSIStream stream ;
   DSIOpen( &stream );   
   DSIWrite32( &stream, &waveband ) ;   
   DSIWriteDMMAmFmTunerControl_WavebandGrid( &stream, grid ) ;   
   DSIClientSendRequest( proxy, DMMAmFmTunerControl_UPD_ID_requestSetWavebandGrid, seqNr, &stream );
   DSIClose( &stream );
   return seqNr ;
}



int DMMAmFmTunerControl_RequestSetHdBallGameMode( DMMAmFmTunerControlProxy* proxy,  DMMAmFmTunerControl_HdBallGameMode hdBallGameMode )
{
   int seqNr = DSICreateId();
   DSIStream stream ;
   DSIOpen( &stream );   
   DSIWrite32( &stream, &hdBallGameMode ) ;
   DSIClientSendRequest( proxy, DMMAmFmTunerControl_UPD_ID_requestSetHdBallGameMode, seqNr, &stream );
   DSIClose( &stream );
   return seqNr ;
}



int DMMAmFmTunerControl_RequestAssign( DMMAmFmTunerControlProxy* proxy,  DMMAmFmTunerControl_SharedResources resource,  DSIBool grant )
{
   int seqNr = DSICreateId();
   DSIStream stream ;
   DSIOpen( &stream );   
   DSIWrite32( &stream, &resource ) ;   
   DSIWriteBool( &stream, &grant ) ;
   DSIClientSendRequest( proxy, DMMAmFmTunerControl_UPD_ID_requestAssign, seqNr, &stream );
   DSIClose( &stream );
   return seqNr ;
}



int DMMAmFmTunerControl_RequestSetSpecialCoding( DMMAmFmTunerControlProxy* proxy, const DMMAmFmTunerControl_TunerParameters parameters, const DMMAmFmTunerControl_TunerTimings timings )
{
   int seqNr = DSICreateId();
   DSIStream stream ;
   DSIOpen( &stream );   
   DSIWriteDMMAmFmTunerControl_TunerParameters( &stream, &parameters ) ;   
   DSIWriteDMMAmFmTunerControl_TunerTimings( &stream, &timings ) ;
   DSIClientSendRequest( proxy, DMMAmFmTunerControl_UPD_ID_requestSetSpecialCoding, seqNr, &stream );
   DSIClose( &stream );
   return seqNr ;
}

int DMMAmFmTunerControl_RequestSetSpecialCodingEx( DMMAmFmTunerControlProxy* proxy, const DMMAmFmTunerControl_TunerParameter* parameters, int parametersSize, const DMMAmFmTunerControl_TunerTiming* timings, int timingsSize )
{
   int seqNr = DSICreateId();
   DSIStream stream ;
   DSIOpen( &stream );
   DSIWrite32( &stream, &parametersSize );
   if( (0 != parametersSize ) && (0 != parameters ))
   {
      int idx=0;
      while( idx < parametersSize )
      {
         DSIWriteDMMAmFmTunerControl_TunerParameter( &stream, &parameters[idx] ) ;
         idx++;
      }
   }
   DSIWrite32( &stream, &timingsSize );
   if( (0 != timingsSize ) && (0 != timings ))
   {
      int idx=0;
      while( idx < timingsSize )
      {
         DSIWriteDMMAmFmTunerControl_TunerTiming( &stream, &timings[idx] ) ;
         idx++;
      }
   }
   DSIClientSendRequest( proxy, DMMAmFmTunerControl_UPD_ID_requestSetSpecialCoding, seqNr, &stream );
   DSIClose( &stream );
   return seqNr ;
}



int DMMAmFmTunerControl_RequestStorePersistentData( DMMAmFmTunerControlProxy* proxy )
{
   int seqNr = DSICreateId();
   DSIStream stream ;
   DSIOpen( &stream );
   DSIClientSendRequest( proxy, DMMAmFmTunerControl_UPD_ID_requestStorePersistentData, seqNr, &stream );
   DSIClose( &stream );
   return seqNr ;
}





/*******************************************************************************************/

static void ComponentConnected( DMMAmFmTunerControlProxy* proxy )
{
   if( proxy && proxy->fnComponentConnected )
   {
      proxy->fnComponentConnected( proxy );
   }
}

static void ComponentDisconnected( DMMAmFmTunerControlProxy* proxy )
{
   if( proxy && proxy->fnComponentDisconnected )
   {
      proxy->fnComponentDisconnected( proxy );
   }
}

static void ProcessInternalEvent( DMMAmFmTunerControlProxy* proxy, int code, void* data )
{
   if( proxy && proxy->fnProcessInternalEvent )
   {
      proxy->fnProcessInternalEvent( proxy, code, data );
   }
}

static void Cleanup( DMMAmFmTunerControlProxy* proxy )
{
   if( proxy && proxy->fnCleanup )
   {
      proxy->fnCleanup( proxy );
   }
}

/*** notifications *************************************************************************/

void DMMAmFmTunerControlProxy_SetNotification( DMMAmFmTunerControlProxy* proxy, DMMAmFmTunerControl_UpdateIdEnum updateId )
{
   DSIClientSetNotification( proxy, (int)updateId );
}


void DMMAmFmTunerControlProxy_ClearNotification( DMMAmFmTunerControlProxy* proxy, DMMAmFmTunerControl_UpdateIdEnum updateId )
{
   DSIClientClearNotification( proxy, (int)updateId );
}


void DMMAmFmTunerControlProxy_ClearAllNotifications( DMMAmFmTunerControlProxy* proxy )
{
   DSIClientClearAllNotifications( proxy );
}

/*** (de)initialization ********************************************************************/

int DMMAmFmTunerControlProxy_Init( DMMAmFmTunerControlProxy* proxy, const char* rolename )
{
   DSIInit();
   if (proxy)
   {
      memset( proxy, 0, sizeof(*proxy) );
   }
   DSIClientInit( proxy, SERVER_NAME, rolename, SERVER_MAJOR_VERSION, SERVER_MINOR_VERSION );
   if (proxy)
   {
	   proxy->client.fnComponentConnected = ComponentConnected ;
	   proxy->client.fnComponentDisconnected = ComponentDisconnected ;
	   proxy->client.fnProcessResponse = ProcessResponse ;
	   proxy->client.fnProcessInternalEvent = ProcessInternalEvent ;
	   proxy->client.fnCleanup = Cleanup ;
   }
   return 0 ;
}

void DMMAmFmTunerControlProxy_Free( DMMAmFmTunerControlProxy* proxy  )
{
   if (proxy == 0)
      return;

   DMMAmFmTunerControl_WavebandGrids_Free( &proxy->wavebandGrids );
   DMMAmFmTunerControl_Strings_Free( &proxy->versions );
   DMMTunerTypes_UInt32s_Free( &proxy->powerSync );
   DSIClientFree( proxy );

   memset( proxy, 0, sizeof(*proxy) );
}

int DMMAmFmTunerControlProxy_Start( DMMAmFmTunerControlProxy* proxy, const char* rolename )
{
   // do not call the _Init function here since the proxy will be NULL'ed which makes problems with
   // the CPP implementation callbacks already registered...

   DSIInit();
   DSIClientInit( proxy, SERVER_NAME, rolename, SERVER_MAJOR_VERSION, SERVER_MINOR_VERSION );
   if (proxy)
   {
	   proxy->client.fnComponentConnected = ComponentConnected ;
	   proxy->client.fnComponentDisconnected = ComponentDisconnected ;
	   proxy->client.fnProcessResponse = ProcessResponse ;
	   proxy->client.fnProcessInternalEvent = ProcessInternalEvent ;
	   proxy->client.fnCleanup = Cleanup ;
   }
   return DSIClientRun( proxy );
}

int DMMAmFmTunerControlProxy_Stop( DMMAmFmTunerControlProxy* proxy, int exitcode )
{
   return DSIClientStop( proxy, exitcode );
}

int DMMAmFmTunerControlProxy_PostInternalEvent( DMMAmFmTunerControlProxy* proxy, int code, void* data )
{
   if (0 == proxy)
      return 0;
   return DSIPostInternalEvent( proxy->client.Channel.Master, proxy->client.Id, 0, code, data );
}

int DMMAmFmTunerControlProxy_SendInternalEvent( DMMAmFmTunerControlProxy* proxy, int code, void* data )
{
   if (0 != proxy)
   {
      if (proxy->client.SendChid)
      {
          return DSISendInternalEvent( proxy->client.SendChid, proxy->client.Id, 0, code, data );

      }
      else
      {

         return DSISendInternalEvent( proxy->client.Channel.Master, proxy->client.Id, 0, code, data );
      }
   }
   else
   {
      return 0;
   }
}


