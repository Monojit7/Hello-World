/**********************************************************************
 *  Project       Harman Car Multimedia System
 *  (c) copyright 2014
 *  Company       Harman/Becker Automotive Systems GmbH
 *                All rights reserved
 **********************************************************************/

/*
 * Generated by DSI Generator version 2.0
 * Date: 21.11.2014
 */

#include "DMMTunerAudio.h"
#include <string.h>
#include <malloc.h>

void DMMTunerAudio_SinkTypes_Copy( DMMTunerAudio_SinkTypes* lhs, const DMMTunerAudio_SinkTypes* rhs )
{
   int vecsize = 0;
   if ((lhs == 0) || (rhs == 0))
      return;
   vecsize = DSIVectorSize( *rhs ) ;
   *lhs = 0 ;
   if( vecsize )
   {
      int idx ;
      DSIVectorAlloc( *lhs, DSIVectorSize( *rhs ) );

      for( idx=0; idx<vecsize; idx++ )
      {
         (*lhs)->data[idx] = (*rhs)->data[idx] ;
      }
   }
}



void DSIReadDMMTunerAudio_SinkTypes( DSIStream *stream, DMMTunerAudio_SinkTypes *p )
{
   if( p && stream)
   {
      int size = 0 ;
      DMMTunerAudio_SinkTypes_Free( p );

      DSIRead32( stream, &size );
      if( 0 != size )
      {
         int idx = 0 ;
         DMMTunerAudio_SinkTypes vec = 0 ; 
         DSIVectorAlloc( vec, size );//lint !e449
         if (vec)
         { 
            memset( vec->data, 0, sizeof(vec->data[0]) * size );
            while( idx < vec->size )
            {
               DSIRead32( stream, &vec->data[idx] ) ;
               idx++;
            }
         }
         *p = vec ;
      }
   }
}

void DSIWriteDMMTunerAudio_SinkTypes( DSIStream *stream, const DMMTunerAudio_SinkTypes *p )
{
   if (!stream)
      return;
   if( !p || !(*p) || !(*p)->size )
   {
      static const int size0 = 0 ;
      DSIWrite32( stream, &size0 );
   }
   else
   {
      int idx = 0 ;
      const DMMTunerAudio_SinkTypes vec = *p ;
      DSIWrite32( stream, &vec->size );
      while( idx < vec->size )
      {
         DSIWrite32( stream, &vec->data[idx] ) ;
         idx++;
      }
   }
}






void DMMTunerAudio_RequestSetCurrentSinksArgList_Free( DMMTunerAudio_RequestSetCurrentSinksArgList *p )
{
   if (p == 0)
      return;
   DMMTunerAudio_SinkTypes_Free( &p->sinkTypes );
   memset( p, 0, sizeof(*p) );
}
